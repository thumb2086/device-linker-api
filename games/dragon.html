<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>射龍門 | 閃電賭場</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/dragon.css">
</head>

<body class="dragon-body">

    <div class="page-header">
        <a href="/" class="back-btn">← 大廳</a>
        <div class="header-stats">
            <span class="vip" id="header-vip">-</span>
            <span><span class="balance" id="header-balance">-</span> ZXC</span>
            <button class="logout-btn" onclick="logoutUser()">登出</button>
        </div>
    </div>

    <div class="casino-card" id="main-card">
        <h1>🎯 射龍門</h1>

        <div class="user-stats">
            <span id="vip-badge">普通會員</span>
            <div class="stat-row">餘額: <span id="balance-val">0.00</span> ZXC</div>
            <div class="stat-row">累計押注: <span id="total-bet-val">0.00</span> ZXC</div>
        </div>

        <div class="dragon-table">
            <div class="card-lane">
                <div class="card-title">左門</div>
                <div class="playing-card" id="card-left">?</div>
            </div>
            <div class="card-lane center">
                <div class="card-title">開獎牌</div>
                <div class="playing-card reveal" id="card-shot">?</div>
            </div>
            <div class="card-lane">
                <div class="card-title">右門</div>
                <div class="playing-card" id="card-right">?</div>
            </div>
        </div>

        <div class="mode-switch">
            <button id="mode-quick" class="mode-btn active" onclick="setDragonMode('quick')">快節奏模式</button>
            <button id="mode-classic" class="mode-btn" onclick="setDragonMode('classic')">傳統策略模式</button>
        </div>

        <div id="odds-banner">門越窄，倍數越高：3x / 2x / 1.2x（撞柱雙倍扣注）</div>

        <input type="number" id="bet-amount" value="10" min="1" placeholder="輸入押注金額">
        <button class="btn-shoot" id="shoot-btn" onclick="playDragon()">開槍</button>
        <button class="btn-shoot btn-alt hidden" id="redraw-btn" onclick="drawClassicGate()">重發門</button>

        <p id="status-msg">準備開始...</p>
        <div id="tx-log"></div>
    </div>

    <script src="../js/common.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/dragon.js"></script>
    <script>
        window.onload = function () {
            checkGameAuth(function (data) {
                updateUI(data);
                startBalanceRefresh();
            });
        };
    </script>

</body>

</html>
