<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>輪盤 | 閃電賭場</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/roulette.css">
</head>

<body class="roulette-body">

    <div class="page-header">
        <a href="/" class="back-btn">← 大廳</a>
        <div class="header-stats">
            <span class="vip" id="header-vip">-</span>
            <span><span class="balance" id="header-balance">-</span> ZXC</span>
            <button class="logout-btn" onclick="logoutUser()">登出</button>
        </div>
    </div>

    <div class="casino-card" id="main-card">
        <h1>🎡 歐式輪盤</h1>

        <div class="user-stats">
            <span id="vip-badge">普通會員</span>
            <div class="stat-row">餘額: <span id="balance-val">0.00</span> ZXC</div>
            <div class="stat-row">累計押注: <span id="total-bet-val">0.00</span> ZXC</div>
        </div>

        <div class="roulette-stage">
            <div class="wheel" id="wheel-display">?</div>
            <div id="last-result" class="last-result">等待下注</div>
        </div>
        <div class="round-hint" id="round-hint">固定開獎模式：計算中...</div>

        <input type="number" id="bet-amount" value="10" min="1" placeholder="輸入押注金額">

        <div class="bet-grid">
            <select id="bet-type" onchange="onBetTypeChange()">
                <option value="color">顏色（1:1）</option>
                <option value="parity">奇偶（1:1）</option>
                <option value="range">大小（1:1）</option>
                <option value="dozen">區段（2:1）</option>
                <option value="number">單號（35:1）</option>
            </select>
            <select id="bet-value"></select>
        </div>

        <button id="spin-btn" class="btn-primary" onclick="spinRoulette()">下注並旋轉</button>

        <p id="status-msg">準備開始...</p>

        <div id="tx-log"></div>
    </div>

    <script src="../js/common.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/roulette.js"></script>
    <script>
        window.onload = function () {
            checkGameAuth(function (data) {
                updateUI(data);
                startBalanceRefresh();
                onBetTypeChange();
            });
        };
    </script>

</body>

</html>
