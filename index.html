<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­ç†™å¹£ ZXC | é–ƒé›»è³­å ´</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/lobby.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
</head>

<body class="lobby-body">

    <!-- èªè­‰å€åŸŸ -->
    <div id="auth-ui" class="casino-card auth-card hidden">
        <h1>âš¡ é–ƒé›»è³­å ´</h1>
        <p class="subtitle">å­ç†™å¹£ ZXC</p>
        <p>æƒæä»¥é€£çµä½ çš„å­ç†™éŒ¢åŒ…</p>
        <div id="qr-box"><canvas id="qr-canvas"></canvas></div>
        <div id="auth-msg"><span class="loader"></span> ç­‰å¾…ç¡¬é«”æˆæ¬Š...</div>
    </div>

    <!-- å¤§å»³ -->
    <div id="lobby-ui" class="hidden lobby-container">

        <div class="lobby-title">
            <h1>âš¡ é–ƒé›»è³­å ´</h1>
            <p class="subtitle">å­ç†™å¹£ ZXC Casino</p>
            <button class="logout-btn" onclick="logoutUser()">ç™»å‡º</button>
        </div>

        <div class="lobby-stats" id="main-card">
            <div class="stat-item">
                <span class="stat-label">VIP ç­‰ç´š</span>
                <span class="stat-value gold" id="vip-badge">æ™®é€šæœƒå“¡</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">é¤˜é¡</span>
                <span class="stat-value" id="balance-val">0.00</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">ç´¯è¨ˆæŠ¼æ³¨</span>
                <span class="stat-value" id="total-bet-val">0.00</span>
            </div>
        </div>

        <div class="section-title">é¸æ“‡éŠæˆ²</div>

        <div class="game-grid">
            <a href="games/coinflip.html" class="game-card">
                <div class="game-icon">ğŸª™</div>
                <div class="game-name">çŒœç¡¬å¹£</div>
                <div class="game-desc">æ­£é¢æˆ–åé¢ï¼Œ1.8 å€è³ ç‡</div>
                <div class="game-tag ready">é–‹æ”¾ä¸­</div>
            </a>

            <a href="games/slots.html" class="game-card">
                <div class="game-icon">ğŸ°</div>
                <div class="game-name">è€è™æ©Ÿ</div>
                <div class="game-desc">ä¸‰é€£ç·šæœ€é«˜ 50 å€</div>
                <div class="game-tag ready">é–‹æ”¾ä¸­</div>
            </a>

            <div class="game-card coming-soon">
                <div class="game-icon">ğŸ¡</div>
                <div class="game-name">è¼ªç›¤</div>
                <div class="game-desc">ç¶“å…¸æ­å¼è¼ªç›¤</div>
                <div class="game-tag soon">å³å°‡æ¨å‡º</div>
            </div>

            <a href="games/blackjack.html" class="game-card">
                <div class="game-icon">ğŸƒ</div>
                <div class="game-name">äºŒåä¸€é»</div>
                <div class="game-desc">æŒ‘æˆ°èŠå®¶æ‹¿ 21</div>
                <div class="game-tag ready">é–‹æ”¾ä¸­</div>
            </a>

            <a href="games/horse.html" class="game-card">
                <div class="game-icon">ğŸ´</div>
                <div class="game-name">è³½é¦¬</div>
                <div class="game-desc">é¸å‡ºä½ çš„å† è»é¦¬</div>
                <div class="game-tag ready">é–‹æ”¾ä¸­</div>
            </a>

            <a href="games/dragon.html" class="game-card">
                <div class="game-icon">ğŸ¯</div>
                <div class="game-name">å°„é¾é–€</div>
                <div class="game-desc">çŒœä¸­é–“æ•¸å­—è´å¤§ç</div>
                <div class="game-tag ready">é–‹æ”¾ä¸­</div>
            </a>
        </div>

        <div class="lobby-footer">POWERED BY BLOCKCHAIN</div>
    </div>

    <script src="js/common.js"></script>
    <script src="js/auth.js"></script>
    <script>
        window.onload = function () {
            showPageTransition('é©—è­‰ç™»å…¥ä¸­...');
            initLobbyAuth(function (data) {
                document.getElementById('auth-ui').classList.add('hidden');
                document.getElementById('lobby-ui').classList.remove('hidden');
                updateUI(data);
                startBalanceRefresh();
                hidePageTransition();

                document.querySelectorAll('.game-card[href]').forEach(function (card) {
                    card.addEventListener('click', function (e) {
                        e.preventDefault();
                        navigateToGameWithAuth(card.getAttribute('href'));
                    });
                });
            });
        };
    </script>

</body>

</html>
